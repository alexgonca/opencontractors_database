#!/usr/bin/env bash
# declare an array called array and define 3 vales
array=(
a76action
active_schema
agency
agency_department
agency_name
business_size
ccr_exception
claimant_program
clinger_cohen_act
commercial_item_acquisition_procedures
commercial_item_test_program
consolidated_contract
contingency_humanitarian_peacekeeping_operation
contract
contract_action_type
contract_all
contract_bundling
contract_financing
contracting_agency_top_products_and_services
contracting_agency_top_vendors
contractor
contractor_address
contractor_alternate_site_code
contractor_annual_revenue
contractor_business_size
contractor_ccr_exception
contractor_division_name
contractor_division_number_or_office_code
contractor_enabled
contractor_fax_number
contractor_flag
contractor_location_disable_flag
contractor_name
contractor_number_of_employees
contractor_organizational_type
contractor_parent
contractor_phone_number
contractor_registration_date
contractor_renewal_date
contractor_site_code
cost_accounting_standards_clause
cost_or_pricing_data
country
country_variation
data_version
davis_bacon_act
department
department_name
evaluated_preference
extent_competed
fedbizopps
flag
flag_value
funded_by_foreign_entity
funding_agency_top_vendors
gfe_gfp
information_technology_commercial_item_category
interagency_contracting_authority
letter_contract
local_area_set_aside
manufacturing_organization_type
multiple_or_single_award_idc
multiyear_contract
naics
national_interest_action
office
office_name
performance_based_service_contract
place_of_manufacture
product_or_service_category
product_or_service_code
purchase_card_as_payment_method
reason_for_modification
reason_not_competed
recovered_material_clauses
recovery_flag
research
sea_transportation
service_contract_act
small_business_competitiveness_demonstration_program
solicitation_procedures
state
statutory_exception_to_fair_opportunity
subcontract_plan
transaction_status
type_of_contract_pricing
type_of_idc
type_of_set_aside
use_of_epa_designated_products
walsh_healy_act
)

command="\copy anything to program 'gzip > ./athena/anything.gz' with csv"
for i in "${array[@]}"
do
    psql -h localhost -U postgres -d opencontractors -c "${command//anything/$i}"
    s3cmd --continue-put put ./athena/${i}.gz s3://opencontractors/${i}/${i}.gz
done